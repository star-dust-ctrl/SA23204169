## ----setup, include=FALSE-----------------------------------------------------
## Global options
knitr::opts_chunk$set(cache = TRUE)

## -----------------------------------------------------------------------------
x <- c(1,2,3)
dim(x)

## -----------------------------------------------------------------------------
m <- matrix(1:4, ncol = 2)
is.array(m)

## -----------------------------------------------------------------------------
x <- data.frame(a=c(1,2),b=c("a","b"))
as.matrix(x)

## -----------------------------------------------------------------------------
A = data.frame(matrix(0, ncol=0, nrow=2))
A

## -----------------------------------------------------------------------------
B = data.frame(matrix(0, ncol=2, nrow=0))
A

## -----------------------------------------------------------------------------
scale01 <- function(x) {
rng <- range(x, na.rm = TRUE)
(x - rng[1]) / (rng[2] - rng[1])
}

## -----------------------------------------------------------------------------
X <- data.frame(a = c(1,2,3,4), b = c(2,1,4,5))
lapply(X, scale01)

## -----------------------------------------------------------------------------
Y <- data.frame(a = c(1,2,3,4), b = c("a","b","c","d"))
lapply(Y[sapply(Y, is.numeric)], scale01)

## -----------------------------------------------------------------------------
# a)
vapply(X, sd, numeric(1))

## -----------------------------------------------------------------------------
# b)
vapply(Y[vapply(Y, is.numeric, logical(1))], sd, numeric(1))

## -----------------------------------------------------------------------------
library(microbenchmark)
library(Rcpp)
dir_cpp <- './Rcpp/'

source(paste0(dir_cpp,'GibbsR.R'))
sourceCpp(paste0(dir_cpp,'GibbsC.cpp'))
ts <- microbenchmark(gibbR=gibbsR(10, 1, 3, 100,10), gibbC=gibbsC(10, 1, 3, 100,10))
summary(ts)[,c(1,3,5,6)]

